<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="Attachment">
  <resultMap type="com.kh.tt.channel.model.vo.Attachment"
		id="attachmentResultSet">
		<id property="atNo" column="AT_NO" />
		<result property="atBno" column="AT_B_NO" />
		<result property="atCQno" column="AT_CQ_NO" />
		<result property="atCHno" column="AT_CH_NO" />
		<result property="atName" column="AT_NAME" />
		<result property="atMName" column="AT_MODIFY_NAME" />
		<result property="atPath" column="AT_PATH" />
		<result property="atDate" column="AT_DATE" />
		<result property="atClass" column="AT_CLASS" />
		<result property="atType" column="AT_TYPE" />
	</resultMap>
	
	<insert id="insertAt" parameterType="Attachment">
	INSERT INTO ATTACHMENT
		VALUES(
		SEQ_AT_NO.NEXTVAL,
		#{atBno},
		NULL,
		NULL,
		#{atName},
		#{atMName},
		#{atPath},
		SYSDATE,
		'BOARD',
		'VOD')
	</insert>
	
	<select id="vodOneR" parameterType="Board" resultMap="attachmentResultSet">
		SELECT * 
		FROM ATTACHMENT
		WHERE AT_B_NO=#{bNo}
	
	</select>
	</mapper>
